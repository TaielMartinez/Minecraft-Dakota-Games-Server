# VISAGE ANTICHEAT SOFTWARE CONFIGURATION FILE - FORMATTED IN YAML
# Configuration file to adjust Visage in it's behavior (Generated by Visage Anti-Cheat 1.0.7-SNAPSHOT, modified & validated by Square)
#
# If you run into any issues, please open an issue at "https://github.com/SquareCodeFX/Visage/issues"
# This config is based on the configuration of AAC (https://www.spigotmc.org/resources/6442/),
#
# Welcome - fellow reader - to Visages configuration file!
# As you might have noticed, this file is very big and it might seem complicated at first sight,
# but understanding and mastering it is waaaay easier than you might expect it to be.
# Understanding Visage internally is essential for someone applying changes,
# guessing you want to avoid players flying around etc...
#
# Visage holds and uses "checks".
# A "check" is nothing more than an algorithm (almost always) specialized to find specific anomalies in a players behavior.
# Eg. our check "VerticalPhysics" will scan player movement along their vertical axis, whereas
# the check "AnalyticCombatAnalysis" will perform long-term analysis of a players combat behavior.
#
# Like every other anticheat, there is a very small chance that checks find anomalies on a legitimate player.
# As we don't want to kick players just lagging or glitching, we
# have implemented a "violation-level" mechanic.
# Every player has a numeric score for each check (maybe referred to as "violation level").
# As he is being detected, the number for that check increases.
# This number decays over time to ensure normal players don't get high values by collecting them over time...
# If a player has reached a configurable amount of violation points for a check - for example VL 1400
# on the "VerticalPhysics" check - you can adjust Visage to execute specific commands, with a few placeholders at your disposal.
#
# Jointly fighting for a common, fair and respectable game is a good and wise decision.
# With your choice to use Visage, we are proud to offer this gaming experience to you and to your community.
# On our mission to bring Minecraft back to life by eliminating cheaters, we are pleased having you aboard!
# Hopefully, we can fulfill your eager expectations for us as well -
# if not, please write us on Discord or report to our issue tracker on Github.
# My team and I thank you very much for your purchase and your commitment \{~-~}/
# ~ Felix M. (Lead-Developer)
#
module:

  # Is Visage supposed to stop the player from moving his head the wrong way?
  # Since Visage 1.0.0
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible. Therefore, we recommend using a threshold level of 2-3 maximum.
  head:

    # Should this check be activated?
    enabled: true

    # Should the player be aware when he has been recognized?
    silent: false

    # At what level should the player's behavior be reset?
    cancel_vl: 0

    # From which level should Visage start logging
    log_vl: 0

    # Here you can make finer settings for this check
    settings:

      # How far down may a player turn?
      min: -90

      # How far up may a player turn?
      max: 90

    # Here you can set the thresholds. What should happen at which level.
    # Note that you cannot kick the player before the last executed point.
    thresholds:
      2: "visage notify %player% in %world% rotated his head invalid (ping: %ping% tps: %tps%)"
      3:
        - "visage notify %player% in %world% was kicked for invalid head rotation (ping: %ping% tps: %tps%)"
        - "visage broadcast %player%"
        - "kick %player% %prefix% &7Rotated invalid"

  # Should Visage be able to analyze the combat behaviour of a player
  # Since Visage 1.0.0
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible. Therefore, we recommend using a threshold level of 2-3 maximum.
  combatanalytics:

    # Should this check be activated?
    enabled: true

    # Should the player be aware when he has been recognized?
    silent: false

    # At what level should the player's behavior be reset?
    cancel_vl: 1

    # From which level should Visage start logging
    log_vl: 0

    # Here you can make finer settings for this check
    settings:

      # How many fails before throwing a verbose
      threshold: 1

      # Max angle for this check
      angle: 1.1

    # Here you can set the thresholds. What should happen at which level.
    # Note that you cannot kick the player before the last executed point.
    thresholds:
      2: "visage notify %player% in %world% is hitting unusual (behaviour) (ping: %ping% tps: %tps%)"
      3:
        - "visage notify %player% in %world% was kicked for combat analytics (ping: %ping% tps: %tps%)"
        - "visage broadcast %player%"
        - "kick %player% %prefix% &7Combat behaviour"

  # Should Visage be able to analyze the combat range and check if the player is using reach?
  # Since Visage 1.0.0
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible. Therefore, we recommend using a threshold level of 2-3 maximum.
  reach:

    # Should this check be activated?
    enabled: true

    # Should the player be aware when he has been recognized?
    silent: false

    # At what level should the player's behavior be reset?
    cancel_vl: 1

    # From which level should Visage start logging
    log_vl: 0

    # Here you can make finer settings for this check
    settings:

      # How many fails before throwing a verbose
      threshold: 5

      # What is the maximum range a player can have in Combat before getting a flag?
      max: 3.1

    # Here you can set the thresholds. What should happen at which level.
    # Note that you cannot kick the player before the last executed point.
    thresholds:
      2: "visage notify %player% in %world% is hitting unusual (ping: %ping% tps: %tps%)"
      3:
        - "visage notify %player% in %world% was kicked for combat reach (ping: %ping% tps: %tps%)"
        - "visage broadcast %player%"
        - "kick %player% %prefix% &7Combat reach"

  # Should Visage be able to analyze the packet/client ground behaviour
  # Since Visage 1.0.0
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible. Therefore, we recommend using a threshold level of 2-3 maximum.
  position:

    # Should this check be activated?
    enabled: true

    # Should the player be aware when he has been recognized?
    silent: false

    # At what level should the player's behavior be reset?
    cancel_vl: 1

    # From which level should Visage start logging
    log_vl: 0

    # Here you can make finer settings for this check
    settings:

      # How many fails before throwing a verbose
      threshold: 5

      # What is the max difference
      difference: 0.005

      # How many fails before throwing a verbose
      predictThreshold: 7

    # Here you can set the thresholds. What should happen at which level.
    # Note that you cannot kick the player before the last executed point.
    thresholds:
      3: "visage notify %player% in %world% is moving unexpected (ping: %ping% tps: %tps%)"
      6:
        - "visage notify %player% in %world% was kicked for moving unexpected (fly?) (ping: %ping% tps: %tps%)"
        - "visage broadcast %player%"
        - "kick %player% %prefix% &7Invalid position"

  # Should Visage be able to make a raytrace of the player in Combat and analyze it?
  # Since Visage 1.0.5
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible. Therefore, we recommend using a threshold level of 2-3 maximum.
  attackraytrace:

    # Should this check be activated?
    enabled: true

    # Should the player be aware when he has been recognized?
    silent: false

    # At what level should the player's behavior be reset?
    cancel_vl: 1

    # From which level should Visage start logging
    log_vl: 0

    # Here you can make finer settings for this check
    settings:

      # How many fails before throwing a verbose
      threshold: 1

    # Here you can set the thresholds. What should happen at which level.
    # Note that you cannot kick the player before the last executed point.
    thresholds:
      2: "visage notify %player% in %world% is attacking suspiciously (ping: %ping% tps: %tps%)"
      3:
        - "visage notify %player% in %world% was kicked for attacking suspiciously (ping: %ping% tps: %tps%)"
        - "visage broadcast %player%"
        - "kick %player% %prefix% &7Attacking suspiciously"

  # Should Visage be able to analyze the packets to detect invalid packets and flight attempts
  # Since Visage 1.0.6
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible. Therefore, we recommend using a threshold level of 2-3 maximum.
  abilities:

    # Should this check be activated?
    enabled: true

    # Should the player be aware when he has been recognized?
    silent: false

    # At what level should the player's behavior be reset?
    cancel_vl: 1

    # From which level should Visage start logging
    log_vl: 0

    # Here you can make finer settings for this check
    settings:

      # UNUSED
      threshold: -1

    # Here you can set the thresholds. What should happen at which level.
    # Note that you cannot kick the player before the last executed point.
    thresholds:
      3:
        - "visage notify %player% in %world% was kicked for sending invalid packets(ping: %ping% tps: %tps%)"
        - "visage broadcast %player%"
        - "kick %player% %prefix% &7Invalid packets"

  # Should Visage be able to analyze the bow pulling of a player
  # Since Visage 1.0.6
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible. Therefore, we recommend using a threshold level of 2-3 maximum.
  fastbow:

    # Should this check be activated?
    enabled: true

    # Should the player be aware when he has been recognized?
    silent: false

    # At what level should the player's behavior be reset?
    cancel_vl: 1

    # From which level should Visage start logging
    log_vl: 0

    # Here you can make finer settings for this check
    settings:

      # UNUSED
      threshold: -1

    # Here you can set the thresholds. What should happen at which level.
    # Note that you cannot kick the player before the last executed point.
    thresholds:
      3:
        - "visage notify %player% in %world% was kicked for shooting arrows too quickly (ping: %ping% tps: %tps%)"
        - "visage broadcast %player%"
        - "kick %player% %prefix% &7Shot arrows too quickly"

  # Should Visage be able to analyze the sprint behavior of a player to check if the player is moving incorrectly
  # Since Visage 1.0.0
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible. Therefore, we recommend using a threshold level of 2-3 maximum.
  sprint:

    # Should this check be activated?
    enabled: true

    # Should the player be aware when he has been recognized?
    silent: false

    # At what level should the player's behavior be reset?
    cancel_vl: 1

    # From which level should Visage start logging
    log_vl: 0

    # Here you can make finer settings for this check
    settings:

      # How many fails before throwing a verbose
      threshold: 5

      # What is the maximum speed a player can sprint to the back?
      max: 0.53

    # Here you can set the thresholds. What should happen at which level.
    # Note that you cannot kick the player before the last executed point.
    thresholds:
      2: "visage notify %player% in %world% is sprinting unusual (ping: %ping% tps: %tps%)"
      3:
        - "visage notify %player% in %world% was kicked for unusual sprint (ping: %ping% tps: %tps%)"
        - "visage broadcast %player%"
        - "kick %player% %prefix% &7Unusual sprint"

  # Should Visage be able to analyze the ip address of a player?
  # Since Visage 1.0.0
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible.
  analyzer:

    # Do you want to have the Proxy Check enabled?
    enabled: true

    # Manage individual settings of a check
    settings:

      # The kick message (if an vpn is used)
      #
      # Tags
      #
      #  %prefix% - will be replaced by visages prefix
      #  %uuid% - will be replaced by the players' uuid
      #  %name% - will be replaced by the players' name
      #  %ip% - will be replaced by the players' ip
      kick-message: "%prefix% &7I'm sorry, but you are not allowed to connect through a proxy."

  # Fastrelog prevents players from rejoining too fast after they got kicked by Visage
  # Since Visage 1.0.4
  fastrelog:

    # Should Visage prevent players from relogging too fast after getting kicked by Visage?
    enabled: true

    # Set the message
    message: "%prefix% &7You were kicked recently. Please wait before connecting again"

    # These checks will be ignored. If you get kicked by these, you can rejoin instantly.
    # To deactivate rejoin refreshing, add "rejoin" to the list
    ignore:
      - "Modulename"

    # Connection throttle
    millis: 900000 # 1000 * 60 * 15 ~ 15 Minutes

violation:

  # Visages prefix (Special characters can be used in the line without any worries. The config is loaded as UTF-8)
  # The config is saved by us as UTF-8. If you change the config, make sure that you save the config as UTF-8 formatted.
  prefix: "&8[&c&lVisage&8]"

  # Verbose message
  #  Verbose messages display information about flags of checks.
  #  This message should not be visible to normal players on your server, so
  #  you can leave it default.
  #
  # Tags for this message
  #
  #  %prefix% will be replaced by visages prefix
  #  %playerName% will be replaced by players name
  #  %playerWorld% will be replaced by players world name
  #  %comment% will be replaced by the verbose comment
  #  %moduleName% will be replaced by the module name
  #  %ping% will be replaced by players ping
  #  %tps% will be replaced by current tickspersecond(tps)
  #  %vladded% will be replaced by the added violations points
  #  %vl% will be replaced by current level of the player
  verbose: "%prefix% &7Verbose: %playerName% in %playerWorld% %comment% and failed %moduleName% (ping: %ping% tps: %tps%) VL: +%vladded% -> %vl%"

  # Staff Notify Message
  #
  #  Notifications are sent to staff members.
  #  With "/visage notify" you can send messages like this
  #
  # Tags
  #
  #  %prefix% - will be replaced by visages prefix
  #  %text% - will be replaced by the information text
  info: "%prefix% &c&lInfo: &7%text%"

  # Kick Notify Message
  #
  #  Notifications are sent to all players.
  #  With "/visage broadcast" you can send messages like this
  #
  # Tags
  #
  #  %prefix% - will be replaced by visages prefix
  #  %name% - will be replaced by the players name
  kick: "%prefix% &c%name% &7was kicked for &4cheating"

# Violation logging
logging:

  # Currently useless
  # Activate to stream verbose messages to the console
  console_log: false

  # Activate to save visages verbose output into a .txt file (recommended)
  file_log: true